CREATE DATABASE  IF NOT EXISTS `hcode` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `hcode`;
-- MySQL dump 10.13  Distrib 5.7.17, for Win64 (x86_64)
--
-- Host: 104.131.120.158    Database: hcode
-- ------------------------------------------------------
-- Server version	5.7.18-0ubuntu0.16.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `tb_documents`
--

DROP TABLE IF EXISTS `tb_documents`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tb_documents` (
  `iddocument` int(11) NOT NULL AUTO_INCREMENT,
  `iddocumenttype` int(11) NOT NULL,
  `idperson` int(11) NOT NULL,
  `desdocument` varchar(64) NOT NULL,
  `dtregister` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`iddocument`),
  KEY `FK_personsdocuments` (`idperson`),
  KEY `FK_documents` (`iddocumenttype`),
  CONSTRAINT `FK_documents` FOREIGN KEY (`iddocumenttype`) REFERENCES `tb_documentstypes` (`iddocumenttype`),
  CONSTRAINT `FK_personsdocuments` FOREIGN KEY (`idperson`) REFERENCES `tb_persons` (`idperson`)
) ENGINE=InnoDB AUTO_INCREMENT=152 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tb_documents`
--

LOCK TABLES `tb_documents` WRITE;
/*!40000 ALTER TABLE `tb_documents` DISABLE KEYS */;
INSERT INTO `tb_documents` VALUES (1,1,7,'48180500837','2017-05-16 14:08:11'),(2,1,8,'48180500837','2017-05-16 14:08:39'),(3,1,9,'48180500837','2017-05-16 14:10:34'),(4,1,10,'48180500837','2017-05-16 14:10:54'),(5,1,11,'48180500837','2017-05-16 14:11:07'),(6,1,12,'48180500837','2017-05-16 14:14:36'),(7,1,13,'48180500837','2017-05-16 14:15:03'),(8,1,14,'48180500837','2017-05-16 14:19:43'),(9,1,15,'14725836900','2017-05-16 14:25:25'),(10,1,16,'14725836900','2017-05-16 14:26:00'),(11,1,18,'04534799446','2017-05-20 16:13:07'),(12,1,19,'04534799446','2017-05-20 16:21:07'),(13,1,20,'04534799446','2017-05-20 16:22:08'),(14,1,21,'04534799446','2017-05-20 16:23:44'),(15,1,22,'04534799446','2017-05-20 16:27:32'),(16,1,23,'04534799446','2017-05-20 16:30:39'),(17,1,24,'04534799446','2017-05-20 16:35:04'),(18,1,25,'04534799446','2017-05-20 16:38:04'),(19,1,26,'04534799446','2017-05-20 16:39:42'),(20,1,27,'04534799446','2017-05-20 16:40:36'),(21,1,28,'04534799446','2017-05-20 17:35:27'),(22,1,29,'04534799446','2017-05-20 17:39:18'),(23,1,30,'04534799446','2017-05-20 17:43:07'),(24,1,31,'04534799446','2017-05-20 17:45:27'),(25,1,32,'04534799446','2017-05-20 17:52:17'),(26,1,33,'04534799446','2017-05-20 17:57:17'),(27,1,34,'04534799446','2017-05-20 18:01:24'),(28,1,35,'04534799446','2017-05-20 18:09:48'),(29,1,36,'04534799446','2017-05-20 18:10:39'),(30,1,37,'04534799446','2017-05-20 18:12:10'),(31,1,38,'04534799446','2017-05-20 18:18:15'),(32,1,39,'04534799446','2017-05-21 21:02:26'),(33,1,40,'04534799446','2017-05-21 21:20:04'),(34,1,41,'04534799446','2017-05-21 21:21:12'),(35,1,42,'04534799446','2017-05-21 21:28:16'),(36,1,43,'04534799446','2017-05-21 21:29:05'),(37,1,44,'04534799446','2017-05-23 12:18:03'),(38,1,45,'04534799446','2017-05-23 12:36:05'),(39,1,46,'04534799446','2017-05-23 13:12:58'),(40,1,47,'04534799446','2017-05-23 13:16:43'),(41,1,48,'04534799446','2017-05-23 13:17:41'),(42,1,49,'04534799446','2017-05-23 13:18:18'),(43,1,50,'04534799446','2017-05-23 13:18:23'),(44,1,51,'04534799446','2017-05-23 16:41:14'),(45,1,52,'04534799446','2017-05-23 17:06:36'),(46,1,53,'04534799446','2017-05-23 17:08:55'),(47,1,54,'04534799446','2017-05-23 17:10:49'),(48,1,55,'04534799446','2017-05-23 17:12:33'),(49,1,56,'04534799446','2017-05-23 17:12:40'),(50,1,57,'04534799446','2017-05-23 17:13:52'),(51,1,58,'04534799446','2017-05-23 17:16:42'),(52,1,59,'04534799446','2017-05-23 17:19:41'),(53,1,60,'04534799446','2017-05-23 17:22:05'),(54,1,61,'04534799446','2017-05-23 17:25:11'),(55,1,62,'04534799446','2017-05-23 18:02:52'),(56,1,63,'04534799446','2017-05-23 18:04:11'),(57,1,64,'04534799446','2017-05-23 18:05:00'),(58,1,65,'04534799446','2017-05-23 18:08:37'),(59,1,66,'04534799446','2017-05-23 18:09:57'),(60,1,67,'04534799446','2017-05-23 18:11:50'),(61,1,68,'04534799446','2017-05-23 19:49:47'),(62,1,69,'04534799446','2017-05-23 19:56:58'),(63,1,70,'04534799446','2017-05-23 19:57:48'),(64,1,71,'04534799446','2017-05-23 20:04:10'),(65,1,72,'04534799446','2017-05-23 20:25:19'),(66,1,73,'04534799446','2017-05-23 20:33:47'),(67,1,74,'04534799446','2017-05-23 20:34:41'),(68,1,75,'04534799446','2017-05-23 20:41:07'),(69,1,76,'04534799446','2017-05-23 20:47:06'),(70,1,77,'04534799446','2017-05-23 21:10:12'),(71,1,78,'04534799446','2017-05-23 21:12:12'),(72,1,79,'04534799446','2017-05-23 21:18:00'),(73,1,80,'04534799446','2017-05-23 21:19:27'),(74,1,81,'04534799446','2017-05-23 21:22:11'),(75,1,82,'04534799446','2017-05-23 21:24:03'),(76,1,83,'04534799446','2017-05-24 01:30:36'),(77,1,84,'04534799446','2017-05-24 01:32:50'),(78,1,85,'04534799446','2017-05-24 01:36:59'),(79,1,86,'04534799446','2017-05-24 01:40:58'),(80,1,87,'04534799446','2017-05-24 01:41:14'),(81,1,88,'04534799446','2017-05-24 01:43:32'),(82,1,89,'04534799446','2017-05-24 01:51:31'),(83,1,90,'04534799446','2017-05-24 01:53:35'),(84,1,91,'04534799446','2017-05-24 01:59:20'),(85,1,92,'04534799446','2017-05-24 02:03:30'),(86,1,93,'04534799446','2017-05-24 02:03:50'),(87,1,94,'04534799446','2017-05-24 02:04:20'),(88,1,95,'04534799446','2017-05-24 02:04:48'),(89,1,96,'04534799446','2017-05-24 02:05:10'),(90,1,97,'04534799446','2017-05-24 02:05:41'),(91,1,98,'04534799446','2017-05-24 02:07:01'),(92,1,99,'04534799446','2017-05-24 02:07:13'),(93,1,100,'04534799446','2017-05-24 02:07:45'),(94,1,101,'04534799446','2017-05-24 02:08:18'),(95,1,102,'04534799446','2017-05-24 02:19:54'),(96,1,103,'04534799446','2017-05-24 02:29:23'),(97,1,104,'04534799446','2017-05-24 02:47:33'),(98,1,105,'04534799446','2017-05-24 02:48:03'),(99,1,106,'04534799446','2017-05-24 02:50:02'),(100,1,107,'04534799446','2017-05-24 02:51:12'),(101,1,108,'04534799446','2017-05-24 02:54:44'),(102,1,109,'04534799446','2017-05-24 02:55:11'),(103,1,110,'04534799446','2017-05-24 02:56:28'),(104,1,111,'04534799446','2017-05-24 02:58:37'),(105,1,112,'04534799446','2017-05-24 02:59:19'),(106,1,113,'04534799446','2017-05-24 03:00:07'),(107,1,114,'04534799446','2017-05-24 03:04:28'),(108,1,115,'04534799446','2017-05-24 03:12:18'),(109,1,116,'04534799446','2017-05-24 16:27:56'),(110,1,117,'04534799446','2017-05-24 17:58:36'),(111,1,118,'04534799446','2017-05-24 17:59:10'),(112,1,119,'04534799446','2017-05-24 18:00:37'),(113,1,120,'04534799446','2017-05-24 18:03:52'),(114,1,121,'04534799446','2017-05-24 18:07:58'),(115,1,122,'04534799446','2017-05-24 18:08:31'),(116,1,123,'04534799446','2017-05-25 16:50:56'),(117,1,124,'04534799446','2017-05-29 17:17:58'),(118,1,125,'04534799446','2017-05-29 17:20:13'),(119,1,126,'04534799446','2017-05-29 18:22:57'),(120,1,127,'04534799446','2017-05-29 18:39:22'),(121,1,128,'04534799446','2017-05-29 18:49:12'),(122,1,129,'04534799446','2017-05-29 18:49:53'),(123,1,130,'04534799446','2017-05-29 18:54:53'),(124,1,131,'04534799446','2017-05-29 19:17:57'),(125,1,132,'04534799446','2017-05-29 19:18:51'),(126,1,133,'04534799446','2017-05-29 19:28:55'),(127,1,134,'04534799446','2017-05-29 19:31:12'),(128,1,135,'04534799446','2017-05-29 19:33:53'),(129,1,136,'04534799446','2017-05-29 22:53:42'),(130,1,137,'04534799446','2017-05-29 22:54:54'),(131,1,138,'04534799446','2017-05-29 22:56:49'),(132,1,139,'04534799446','2017-05-29 23:04:05'),(133,1,140,'04534799446','2017-05-29 23:11:19'),(134,1,141,'04534799446','2017-05-29 23:17:31'),(135,1,142,'04534799446','2017-05-30 01:31:53'),(136,1,143,'04534799446','2017-05-30 01:41:51'),(137,1,144,'04534799446','2017-05-30 01:45:10'),(138,1,145,'04534799446','2017-05-30 01:48:09'),(139,1,146,'04534799446','2017-05-30 01:49:06'),(140,1,147,'04534799446','2017-05-30 01:51:51'),(141,1,148,'04534799446','2017-05-30 18:17:47'),(142,1,149,'04534799446','2017-05-30 18:37:01'),(143,1,150,'04534799446','2017-05-30 18:49:10'),(144,1,151,'04534799446','2017-05-30 18:55:57'),(145,1,153,'04534799446','2017-05-30 19:00:12'),(146,1,156,'04534799446','2017-05-30 19:04:01'),(147,1,158,'04534799446','2017-05-30 19:08:15'),(148,1,161,'04534799446','2017-05-30 20:29:26'),(149,1,162,'04534799446','2017-05-31 16:58:14'),(150,1,163,'04534799446','2017-05-31 17:11:58'),(151,1,164,'04534799446','2017-06-02 16:46:53');
/*!40000 ALTER TABLE `tb_documents` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`hcode`@`%.%.%.%`*/ /*!50003 TRIGGER tg_documents_AFTER_INSERT AFTER INSERT ON tb_documents FOR EACH ROW
BEGIN
	CALL sp_personsdata_save(NEW.idperson);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`hcode`@`%.%.%.%`*/ /*!50003 TRIGGER tg_documents_AFTER_UPDATE AFTER UPDATE ON tb_documents FOR EACH ROW
BEGIN
	CALL sp_personsdata_save(NEW.idperson);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = latin1 */ ;
/*!50003 SET character_set_results = latin1 */ ;
/*!50003 SET collation_connection  = latin1_swedish_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`hcode`@`%.%.%.%`*/ /*!50003 TRIGGER tg_documents_BEFORE_DELETE BEFORE DELETE ON tb_documents FOR EACH ROW
BEGIN
	CALL sp_personsdata_save(OLD.idperson);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2017-06-02 14:12:52
